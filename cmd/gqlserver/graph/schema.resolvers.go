package graph

// This file will be automatically regenerated based on the schema, any resolver
// implementations
// will be copied through when generating and any unknown code will be moved to the end.
// Code generated by github.com/99designs/gqlgen version v0.17.86

import (
	"context"

	"github.com/Peqchji/go-inbound-adapter-benchmark/cmd/gqlserver/graph/model"
)

// CreateWallet is the resolver for the createWallet field.
func (r *mutationResolver) CreateWallet(ctx context.Context, input model.CreateWalletInput) (*model.Wallet, error) {
	res := r.Service.CreateWallet(input.ID, input.Firstname, input.Lastname)
	if res.Err != nil {
		return nil, res.Err
	}

	w := res.Res
	owner := w.Owner()
	return &model.Wallet{
		ID:      w.ID(),
		Balance: int32(w.Balance()),
		Owner: &model.Owner{
			ID:        owner.ID(),
			Firstname: owner.Firstname(),
			Lastname:  owner.Lastname(),
		},
	}, nil
}

// Wallet is the resolver for the wallet field.
func (r *queryResolver) Wallet(ctx context.Context, id string) (*model.Wallet, error) {
	res := r.Service.GetWallet(id)
	if res.Err != nil {
		return nil, res.Err
	}

	w := res.Res
	owner := w.Owner()
	return &model.Wallet{
		ID:      w.ID(),
		Balance: int32(w.Balance()),
		Owner: &model.Owner{
			ID:        owner.ID(),
			Firstname: owner.Firstname(),
			Lastname:  owner.Lastname(),
		},
	}, nil
}

// Mutation returns MutationResolver implementation.
func (r *Resolver) Mutation() MutationResolver { return &mutationResolver{r} }

// Query returns QueryResolver implementation.
func (r *Resolver) Query() QueryResolver { return &queryResolver{r} }

type mutationResolver struct{ *Resolver }
type queryResolver struct{ *Resolver }
